<html>
	<head>
		<script>
				function list(){
				
          			var xhttp = new XMLHttpRequest();
  				xhttp.onreadystatechange = function() {
    					if (this.readyState == 4 && this.status == 200) {
      						//document.getElementById("outputserver").innerHTML;
				var projects = JSON.parse(this.responseText);
				uittekenen(projects);

    					}
  				};
          			xhttp.open("GET", "http://localhost:8082/list");
				xhttp.setRequestHeader("Content-type", "application/json");
				xhttp.send();
			}
			function uittekenen(projects){

					for (i=0; i<projects.length; i++){
						document.getElementById("list").innerHTML = document.getElementById("list").innerHTML +"<tr><td>"+ projects[i].name + " </td><td>" + projects[i].comment+ "</td></tr>";
					}

				}	
			function test(){
				var projectinput = document.getElementById("projectname").value;
				document.getElementById("buttoninput").innerHTML = projectname;
				alert(projectinput);
          			var xhttp = new XMLHttpRequest();
  				xhttp.onreadystatechange = function() {
    					if (this.readyState == 4 && this.status == 200) {
      						document.getElementById("outputserver").innerHTML = this.responseText;
    					}
  				};
          			xhttp.open("GET", "http://localhost:8082/project");
				xhttp.setRequestHeader("Content-type", "application/json");
				xhttp.send();
			}
			function verstuur(){
          			var ent= document.getElementById("projectname").value;
				var ent2= document.getElementById("projectcomment").value;
				var project = '{"name":"'+ent+'", "comment" : "'+ent2+'"}'; 
          			var xhttp = new XMLHttpRequest();
  				xhttp.onreadystatechange = function() {
    					if (this.readyState == 4 && this.status == 202) {
      						document.getElementById("outputserver").innerHTML = this.responseText;
    					}
  				};
          			xhttp.open("POST", "http://localhost:8082/projectpost", true);
				xhttp.setRequestHeader("Content-type", "application/json");
				xhttp.send(project);
			}
		</script>
	</head>
	<body>
		Met deze knop Haal ik een project op:
		<button type="button" id="buttoninput" onclick="test()">Ophalen van een project via Get</button>
		<hr>		
		Name:
		<input type="text" id="projectname" name="Name" value="Darth Vader">
		<br>Comment:
		<input type="text" id="projectcomment" name="Comment" value="Pikatchu">
		<br>
		<button type="button" id="buttoninput" onclick="verstuur()">Create new Project</button>
		<div id="outputserver"></div>
		<button type="button" id="try" onclick="list()">try</button>
		<table id="list" border=1></table>
	</body>
</html>